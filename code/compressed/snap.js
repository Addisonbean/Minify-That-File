Snap.plugin(function(a,b){function h(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function i(b,c,d){c=g(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var k,l,o,p,e=Math.max(b.length,c.length),f=[],i=[],j=0;e>j;j++){if(o=b[j]||h(c[j]),p=c[j]||h(o),o[0]!=p[0]||"r"==o[0].toLowerCase()&&(o[2]!=p[2]||o[3]!=p[3])||"s"==o[0].toLowerCase()&&(o[3]!=p[3]||o[4]!=p[4])){b=a._.transform2matrix(b,d()),c=a._.transform2matrix(c,d()),f=[["m",b.a,b.b,b.c,b.d,b.e,b.f]],i=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}for(f[j]=[],i[j]=[],k=0,l=Math.max(o.length,p.length);l>k;k++)k in o&&(f[j][k]=o[k]),k in p&&(i[j][k]=p[k])}return{from:n(f),to:n(i),f:m(f)}}function j(a){return a}function k(a){return function(b){return+b.toFixed(3)+a}}function l(b){return a.rgb(b[0],b[1],b[2])}function m(a){var c,d,e,f,g,h,b=0,i=[];for(c=0,d=a.length;d>c;c++){for(g="[",h=['"'+a[c][0]+'"'],e=1,f=a[c].length;f>e;e++)h[e]="val["+b++ +"]";g+=h+"]",i[c]=g}return Function("val","return Snap.path.toString.call(["+i+"])")}function n(a){for(var b=[],c=0,d=a.length;d>c;c++)for(var e=1,f=a[c].length;f>e;e++)b.push(a[c][e]);return b}var e={},f=/[a-z]+$/i,g=String;e.stroke=e.fill="colour",b.prototype.equal=function(b,c){var d,h,o=g(this.attr(b)||""),p=this;if(o==+o&&c==+c)return{from:+o,to:+c,f:j};if("colour"==e[b])return d=a.color(o),h=a.color(c),{from:[d.r,d.g,d.b,d.opacity],to:[h.r,h.g,h.b,h.opacity],f:l};if("transform"==b||"gradientTransform"==b||"patternTransform"==b)return c instanceof a.Matrix&&(c=c.toTransformString()),a._.rgTransform.test(c)||(c=a._.svgTransform2string(c)),i(o,c,function(){return p.getBBox(1)});if("d"==b||"path"==b)return d=a.path.toCubic(o,c),{from:n(d[0]),to:n(d[1]),f:m(d[0])};if("points"==b)return d=g(o).split(","),h=g(c).split(","),{from:d,to:h,f:function(a){return a}};var q=o.match(f),r=g(c).match(f);return q&&q==r?{from:parseFloat(o),to:parseFloat(c),f:k(q)}:{from:this.asPX(b),to:this.asPX(b,c),f:j}}});